{"ast":null,"code":"var _jsxFileName = \"/Users/sundararajankarthik/Documents/webdev/stocksbucket/frontend/src/components/account/Documents.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Documents = _ref => {\n  _s();\n\n  let {\n    nextStep,\n    prevStep,\n    values\n  } = _ref;\n  const [error, setError] = useState(null);\n  const [preview, setPreview] = useState(null);\n  let mime_type = '';\n  let content = ''; // handle continue \n\n  const handleContinue = e => {\n    e.preventDefault();\n\n    if (values.document_type === '') {\n      values.setDocumentTypeError('Doc type is required.');\n    } else if (mime_type === '') {\n      setError('document is required');\n    } else {\n      nextStep();\n    }\n  }; // handleBack\n\n\n  const handleBack = e => {\n    e.preventDefault();\n    prevStep();\n  }; //handle file \n\n\n  const handleFile = e => {\n    const selected = e.target.files[0]; // console.log(selected);\n\n    const allowedTypes = ['image/jpg', 'image/jpeg', 'image/png', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'application/pdf'];\n\n    if (selected && allowedTypes.includes(selected.type)) {\n      // console.log('selected');\n      let reader = new FileReader();\n\n      reader.onloadend = () => {\n        setPreview(selected);\n        mime_type = selected.type;\n        content = reader.result;\n        const {\n          document_type,\n          document_sub_type\n        } = values;\n        const docData = {\n          id: uuidv4(),\n          mime_type,\n          content,\n          document_type,\n          document_sub_type,\n          createdAt: Date.now()\n        };\n        console.log(docData);\n        values.setDocuments([docData]);\n        setError(null);\n      };\n\n      reader.readAsDataURL(selected);\n    } else {\n      setError('File not supported.');\n      setPreview(null);\n    }\n  }; //console.log(values.mime_type, values.content);\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"detail-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Documents\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"label\",\n        children: \"Select document type\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"form-control\",\n        onChange: e => values.setDocumentType(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"Select a document type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"identity_verification\\t\",\n          children: \"Identity verification\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"address_verification\\t\",\n          children: \"Address verification\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"date_of_birth_verification\",\n          children: \"Date of birth verification\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"tax_id_verification\",\n          children: \"Tax ID verification\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"account_approval_letter\",\n          children: \"407 approval letter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"w8ben\",\n          children: \"W-8 BEN tax form\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), values.document_type_error && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"account-error-msg\",\n      children: values.document_type_error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 44\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"label\",\n        children: \"Document sub type\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        defaultValue: values.document_sub_type,\n        onChange: e => values.setDocumentSubType(e.target.value),\n        placeholder: \"Document sub type\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"file-btn\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-cloud-upload-alt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), \"Choose a file to upload\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleFile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: preview ? preview.name : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), error ? /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"file-error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 22\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn\",\n      onClick: handleBack,\n      children: \"Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn\",\n      onClick: handleContinue,\n      children: \"Next\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Documents, \"QI1GQbws8zVypmqA3Z8dNmSLC9U=\");\n\n_c = Documents;\nexport default Documents;\n\nvar _c;\n\n$RefreshReg$(_c, \"Documents\");","map":{"version":3,"sources":["/Users/sundararajankarthik/Documents/webdev/stocksbucket/frontend/src/components/account/Documents.js"],"names":["React","useState","v4","uuidv4","Documents","nextStep","prevStep","values","error","setError","preview","setPreview","mime_type","content","handleContinue","e","preventDefault","document_type","setDocumentTypeError","handleBack","handleFile","selected","target","files","allowedTypes","includes","type","reader","FileReader","onloadend","result","document_sub_type","docData","id","createdAt","Date","now","console","log","setDocuments","readAsDataURL","setDocumentType","value","document_type_error","setDocumentSubType","name"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { v4 as uuidv4 } from 'uuid';\n\nconst Documents = ({ nextStep, prevStep, values }) => {\n    const [error, setError] = useState(null);\n    const [preview, setPreview] = useState(null);\n    let mime_type = '';\n    let content = '';\n    // handle continue \n    const handleContinue = (e) => {\n        e.preventDefault();\n        if (values.document_type === '') {\n            values.setDocumentTypeError('Doc type is required.')\n        } else if (mime_type === '') {\n            setError('document is required')\n        } else {\n            nextStep()\n        }\n    }\n    // handleBack\n    const handleBack = (e) => {\n        e.preventDefault()\n        prevStep();\n    }\n    //handle file \n    const handleFile = (e) => {\n        const selected = e.target.files[0];\n        // console.log(selected);\n        const allowedTypes = ['image/jpg', 'image/jpeg', 'image/png', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'application/pdf'];\n        if (selected && allowedTypes.includes(selected.type)) {\n            // console.log('selected');\n            let reader = new FileReader();\n            reader.onloadend = () => {\n                setPreview(selected);\n                mime_type = selected.type\n                content = reader.result;\n                const { document_type, document_sub_type } = values;\n                const docData = {\n                    id: uuidv4(),\n                    mime_type,\n                    content,\n                    document_type,\n                    document_sub_type,\n                    createdAt: Date.now()\n                }\n                console.log(docData);\n                values.setDocuments([docData])\n                setError(null)\n            }\n            reader.readAsDataURL(selected);\n        } else {\n            setError('File not supported.')\n            setPreview(null)\n        }\n    }\n    //console.log(values.mime_type, values.content);\n    return (\n        <div className='detail-section'>\n            <h3>Documents</h3>\n            <div className='form-group'>\n                <label className='label'>Select document type</label>\n                <select className='form-control' onChange={e => values.setDocumentType(e.target.value)}>\n                    <option>Select a document type</option>\n                    <option value=\"identity_verification\t\">Identity verification</option>\n                    <option value=\"address_verification\t\">Address verification</option>\n                    <option value=\"date_of_birth_verification\">Date of birth verification</option>\n                    <option value=\"tax_id_verification\">Tax ID verification</option>\n                    <option value=\"account_approval_letter\">407 approval letter</option>\n                    <option value=\"w8ben\">W-8 BEN tax form</option>\n                </select>\n            </div>\n            {values.document_type_error && <span className='account-error-msg'>{values.document_type_error}</span>}\n            <div className='form-group'>\n                <label className='label'>Document sub type</label>\n                <input\n                    type=\"text\"\n                    className='form-control'\n                    defaultValue={values.document_sub_type}\n                    onChange={e => values.setDocumentSubType(e.target.value)}\n                    placeholder=\"Document sub type\"\n                />\n            </div>\n            <div className='form-group'>\n                <button className='file-btn'>\n                    <i className=\"fas fa-cloud-upload-alt\"></i>\n                    Choose a file to upload\n                </button>\n                <input\n                    type=\"file\"\n                    onChange={handleFile}\n                />\n            </div>\n            <p>{preview ? preview.name : null}</p>\n            {error ? <span className='file-error'>{error}</span> : null}\n            <br />\n            <button className='btn' onClick={handleBack}>Back</button>\n            <button className='btn' onClick={handleContinue}>Next</button>\n        </div>\n    )\n}\n\nexport default Documents\n"]},"metadata":{},"sourceType":"module"}